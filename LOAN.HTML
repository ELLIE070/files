<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>貸款月金試算器</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #f4f4f9;
    margin: 0;
}

.calculator-container {
    background: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(69, 90, 207, 0.712);
    width: 100%;
    max-width: 400px;
}

h1 {
    text-align: center;
    color: #333;
    margin-bottom: 25px;
}

.input-group {
    margin-bottom: 15px;
}

label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #647bad;
}

input[type="number"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box; /* 讓 padding 不會增加寬度 */
    font-size: 16px;
}

button {
    width: 100%;
    padding: 12px;
    background-color: #1e9bb1;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 18px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #23e4b4;
}

.result-box {
    margin-top: 25px;
    padding: 15px;
    background-color: #e9ecef;
    border-radius: 5px;
}

.result-box h2 {
    margin-top: 0;
    color: #333;
    font-size: 20px;
    border-bottom: 2px solid #ccc;
    padding-bottom: 5px;
    margin-bottom: 10px;
}

.result-box p {
    font-size: 16px;
    margin: 8px 0;
}

.result-box span {
    font-weight: bold;
    color: #e43a51;
}
        </style>



    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="calculator-container">
        <h1>貸款月金試算器</h1>

        <div class="input-group">
            <label for="loanAmount">貸款金額 (元):</label>
            <input type="number" id="loanAmount" value="1000000" min="10000" step="10000">
        </div>

        <div class="input-group">
            <label for="interestRate">年利率 (%):</label>
            <input type="number" id="interestRate" value="3.0" min="0.1" step="0.1">
        </div>

        <div class="input-group">
            <label for="loanTerm">貸款期限 (年):</label>
            <input type="number" id="loanTerm" value="20" min="1" step="1">
        </div>

        <button onclick="calculateMonthlyPayment()">計算</button>

        <div class="result-box">
            <h2>計算結果</h2>
            <p>每月應繳金額: <span id="monthlyPayment">--</span> 元</p>
            <p>總支付利息: <span id="totalInterest">--</span> 元</p>
            <p>總支付金額: <span id="totalPayment">--</span> 元</p>
        </div>
    </div>

    <script >
        /**
 * 根據輸入的貸款資訊計算每月應繳金額、總支付利息和總支付金額。
 */
function calculateMonthlyPayment() {
    // 1. 獲取輸入值
    const loanAmountInput = document.getElementById('loanAmount').value;
    const interestRateInput = document.getElementById('interestRate').value;
    const loanTermInput = document.getElementById('loanTerm').value;

    // 將輸入值轉換為數字
    const P = parseFloat(loanAmountInput); // 貸款本金 Principal
    const annualRate = parseFloat(interestRateInput); // 年利率 (%)
    const years = parseInt(loanTermInput); // 貸款期限 (年)

    // 檢查輸入是否有效
    if (isNaN(P) || isNaN(annualRate) || isNaN(years) || P <= 0 || annualRate < 0 || years <= 0) {
        alert("請輸入有效的貸款金額、年利率和貸款期限！");
        return;
    }

    // 2. 轉換參數以適用於公式
    const monthlyRate = (annualRate / 100) / 12; // 月利率 i
    const totalMonths = years * 12; // 總月數 n

    let monthlyPayment; // 每月應繳金額 M

    if (monthlyRate === 0) {
        // 零利率情況：簡單的本金除以月數
        monthlyPayment = P / totalMonths;
    } else {
        // 等額本息計算公式: M = P * [ i * (1 + i)^n ] / [ (1 + i)^n - 1 ]
        const numerator = monthlyRate * Math.pow(1 + monthlyRate, totalMonths);
        const denominator = Math.pow(1 + monthlyRate, totalMonths) - 1;
        monthlyPayment = P * (numerator / denominator);
    }

    // 3. 計算總支付金額和總利息
    const totalPayment = monthlyPayment * totalMonths;
    const totalInterest = totalPayment - P;

    // 4. 顯示結果 (四捨五入到小數點第二位)
    document.getElementById('monthlyPayment').textContent = monthlyPayment.toFixed(2);
    document.getElementById('totalInterest').textContent = totalInterest.toFixed(2);
    document.getElementById('totalPayment').textContent = totalPayment.toFixed(2);
}
    </script>
</body>
</html>